!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core"),require("util"),require("@angular/common"),require("@angular/router")):"function"==typeof define&&define.amd?define("cplx-alert",["exports","rxjs","@angular/core","util","@angular/common","@angular/router"],e):e(t["cplx-alert"]={},t.rxjs,t.ng.core,t.util,t.ng.common,t.ng.router)}(this,function(t,r,e,n,a,i){"use strict";var o={None:0,Success:1,Error:2,Warning:3,Info:4};o[o.None]="None",o[o.Success]="Success",o[o.Error]="Error",o[o.Warning]="Warning",o[o.Info]="Info";var s=function(){function t(t){var e=this;this.router=t,this.routerchange=!1,this.alerta=new r.Subject,this.router.events.subscribe(function(t){t instanceof i.NavigationStart&&(e.routerchange?e.routerchange=!1:e.clear())})}return t.prototype.add=function(t){t["class"]="ns-show",this.alerta.next(t)},t.prototype.getAlertas=function(){return this.alerta.asObservable()},t.prototype.clear=function(){this.alerta.next()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:i.Router}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(i.Router))},token:t,providedIn:"root"}),t}();var c=function(){function t(t){var e=this;this._sms=t,this.alertas=new Array,this.subscription=this._sms.getAlertas().subscribe(function(t){t&&!n.isNullOrUndefined(t.mensaje)&&(e.validate_mensaje(t)||(e.alertas.push(t),setTimeout(function(){e.removerMensaje(t,e.alertas.indexOf(t))},n.isNullOrUndefined(e.timeout)?5e3:e.timeout)))})}return t.prototype.ngOnDestroy=function(){n.isNullOrUndefined(this.subscription)||this.subscription.unsubscribe()},t.prototype.validate_mensaje=function(t){var e,r;if(this.alertas.length)try{for(var n=function i(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}(this.alertas),a=n.next();!a.done;a=n.next()){if(a.value.mensaje==t.mensaje)return!0}}catch(o){e={error:o}}finally{try{a&&!a.done&&(r=n["return"])&&r.call(n)}finally{if(e)throw e.error}}return!1},t.prototype.removerMensaje=function(t,e){var r=this;t["class"]="ns-hide",setTimeout(function(){r.alertas.splice(e,1)},230)},t.prototype.cssClass=function(t){if(t)switch(t.tipo){case o.Success:return"alert alert-success";case o.Error:return"alert alert-danger";case o.Info:return"alert alert-info";case o.Warning:return"alert alert-warning"}},t.prototype.cssClassIcon=function(t){if(t)switch(t.tipo){case o.Success:return"fa-thumbs-o-up";case o.Error:return"fa-thumbs-o-down";case o.Info:return"fa-exclamation-circle";case o.Warning:return"fa-bullseye"}},t.decorators=[{type:e.Component,args:[{selector:"cplx-alert",template:'<div class="alerta-mensaje">\r\n\t<div *ngFor="let m of alertas; let i = index"\r\n\t\tclass="{{cssClass(m)}} ns-growl ns-box ns-effect-scale {{m.class}} px-2">\r\n\t\t<div class="sms-box-inner">\r\n\t\t\t<div class="d-flex">\r\n\t\t\t\t<div class="pr-2 center-center">\r\n\t\t\t\t\t<i class="fa fa-2x" [ngClass]="{\'fa-thumbs-o-up\': m.tipo == 1 ,\'fa-thumbs-o-down\':m.tipo == 2 ,\r\n\t\t\t\t\t\t\'fa-exclamation-circle\':m.tipo == 3 ,\'fa-bullseye\':m.tipo == 4}"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>{{m.mensaje}}.</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<i class="fa fa-times-circle fa-lg close" aria-hidden="true" style="cursor:pointer"\r\n\t\t\t(click)="removerMensaje(m,i)"></i>\r\n\t</div>\r\n</div>\r\n',styles:[".alerta-mensaje{position:fixed;top:40px;right:10px;z-index:1050;overflow:hidden;outline:0}.ns-effect-scale.ns-show{-webkit-animation-name:animateIn;animation-name:animateIn;-webkit-animation-duration:.25s;animation-duration:.25s}.ns-effect-scale.ns-hide{-webkit-animation-name:animateOut;animation-name:animateOut;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-direction:reverse;animation-direction:reverse}.ns-effect-scale{box-shadow:0 25px 10px -15px rgba(0,0,0,.05)}.ns-growl{max-width:300px;min-width:300px;border-radius:5px}.ns-box{line-height:1.4;z-index:1000;font-size:90%;font-family:'Helvetica Neue','Segoe UI',Helvetica,Arial,sans-serif}.center-center{display:flex;flex-direction:column;justify-content:center;align-items:center}.close{width:20px!important;height:20px!important;position:absolute!important;right:4px!important;top:4px!important;cursor:pointer!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important}@-webkit-keyframes animateIn{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1)}}@keyframes animateIn{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1);transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1);transform:translate3d(0,0,0) scale3d(1,1,1)}}@-webkit-keyframes animateOut{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1)}}@keyframes animateOut{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1);transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1);transform:translate3d(0,0,0) scale3d(1,1,1)}}"]}]}],t.ctorParameters=function(){return[{type:s}]},t.propDecorators={timeout:[{type:e.Input}]},t}(),l=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[s,i.RouterModule]}},t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,i.RouterModule],declarations:[c],exports:[c],providers:[s]}]}],t}();t.AlertType=o,t.CplxAlertService=s,t.CplxAlertModule=l,t.Éµa=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=cplx-alert.umd.min.js.map