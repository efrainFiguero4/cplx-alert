!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("util"),require("@angular/common")):"function"==typeof define&&define.amd?define("cplx-alert",["exports","@angular/core","rxjs","@angular/router","util","@angular/common"],t):t(e["cplx-alert"]={},e.ng.core,e.rxjs,e.ng.router,e.util,e.ng.common)}(this,function(e,t,r,n,a,i){"use strict";var o={None:0,Success:1,Error:2,Warning:3,Info:4};o[o.None]="None",o[o.Success]="Success",o[o.Error]="Error",o[o.Warning]="Warning",o[o.Info]="Info";var s=function(){function e(e){var t=this;this.router=e,this.routerchange=!1,this.alerta=new r.Subject,this.router.events.subscribe(function(e){e instanceof n.NavigationStart&&(t.routerchange?t.routerchange=!1:t.clear())})}return e.prototype.add=function(e){e["class"]="ns-show",this.alerta.next(e)},e.prototype.getAlertas=function(){return this.alerta.asObservable()},e.prototype.clear=function(){this.alerta.next()},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:n.Router}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n.Router))},token:e,providedIn:"root"}),e}();var c=function(){function e(e){var t=this;this._sms=e,this.alertas=new Array,this.subscription=this._sms.getAlertas().subscribe(function(e){e&&!a.isNullOrUndefined(e.mensaje)&&(t.validate_mensaje(e)||(t.alertas.push(e),setTimeout(function(){t.removerMensaje(e,t.alertas.indexOf(e))},5e3)))})}return e.prototype.ngOnDestroy=function(){a.isNullOrUndefined(this.subscription)||this.subscription.unsubscribe()},e.prototype.validate_mensaje=function(e){var t,r;if(this.alertas.length)try{for(var n=function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(this.alertas),a=n.next();!a.done;a=n.next()){if(a.value.mensaje==e.mensaje)return!0}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n["return"])&&r.call(n)}finally{if(t)throw t.error}}return!1},e.prototype.removerMensaje=function(e,t){var r=this;e["class"]="ns-hide",setTimeout(function(){r.alertas.splice(t,1)},230)},e.prototype.cssClass=function(e){if(e)switch(e.tipo){case o.Success:return"alert alert-success";case o.Error:return"alert alert-danger";case o.Info:return"alert alert-info";case o.Warning:return"alert alert-warning"}},e.prototype.cssClassIcon=function(e){if(e)switch(e.tipo){case o.Success:return"fa-thumbs-o-up";case o.Error:return"fa-thumbs-o-down";case o.Info:return"fa-exclamation-circle";case o.Warning:return"fa-bullseye"}},e.decorators=[{type:t.Component,args:[{selector:"cplx-alert",template:'\n\t\t<div class="alerta-mensaje">\n\t\t\t<div *ngFor="let m of alertas; let i = index" class="{{cssClass(m)}} ns-growl ns-box ns-effect-scale {{m.class}}">\n\t\t\t\t<div class="sms-box-inner">\n\t\t\t\t\t<p class="p-0 m-0">{{m.mensaje}}.</p>\n\t\t\t\t</div>\n\t\t\t\t<i class="fa fa-times-circle fa-lg close" aria-hidden="true" style="cursor:pointer" (click)="removerMensaje(m,i)"></i>\n\t\t\t</div>\n\t\t</div>\n  ',styles:[".alerta-mensaje{position:fixed;top:40px;right:10px;z-index:1050;overflow:hidden;outline:0}.ns-effect-scale.ns-show{-webkit-animation-name:animateIn;animation-name:animateIn;-webkit-animation-duration:.25s;animation-duration:.25s}.ns-effect-scale.ns-hide{-webkit-animation-name:animateOut;animation-name:animateOut;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-direction:reverse;animation-direction:reverse}.ns-effect-scale{box-shadow:0 25px 10px -15px rgba(0,0,0,.05)}.ns-growl{max-width:300px;border-radius:5px}.ns-box{line-height:1.4;z-index:1000;font-size:90%;font-family:'Helvetica Neue','Segoe UI',Helvetica,Arial,sans-serif}.fa-times-circle:before{font-family:monospace;content:\"x\"}.close{width:20px!important;height:20px!important;position:absolute!important;right:4px!important;top:4px!important;cursor:pointer!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important}@-webkit-keyframes animateIn{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1)}}@keyframes animateIn{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1);transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1);transform:translate3d(0,0,0) scale3d(1,1,1)}}@-webkit-keyframes animateOut{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1)}}@keyframes animateOut{0%{opacity:0;-webkit-transform:translate3d(0,40px,0) scale3d(.1,.6,1);transform:translate3d(0,40px,0) scale3d(.1,.6,1)}100%{opacity:1;-webkit-transform:translate3d(0,0,0) scale3d(1,1,1);transform:translate3d(0,0,0) scale3d(1,1,1)}}"]}]}],e.ctorParameters=function(){return[{type:s}]},e}(),l=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[s,n.RouterModule]}},e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,n.RouterModule],declarations:[c],exports:[c],providers:[s]}]}],e}();e.AlertType=o,e.CplxAlertService=s,e.CplxAlertModule=l,e.Éµa=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cplx-alert.umd.min.js.map