{"version":3,"file":"cplx-alert.js.map","sources":["ng://cplx-alert/lib/cplx-alert.service.ts","ng://cplx-alert/lib/cplx-alert.component.ts","ng://cplx-alert/lib/cplx-alert.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { Router, NavigationStart } from '@angular/router';\n\n\nexport interface Alert {\n\tmensaje?: string;\n\ttipo?: AlertType;\n\tclass?: string;\n}\n\nexport enum AlertType {\n\tNone,\n\tSuccess,\n\tError,\n\tWarning,\n\tInfo\n}\n\n@Injectable({\n\tprovidedIn: 'root'\n})\n\nexport class CplxAlertService {\n\n\tprivate routerchange = false;\n\n\tconstructor(private router: Router) {\n\t\tthis.router.events.subscribe(event => {\n\t\t\tif (event instanceof NavigationStart) {\n\t\t\t\tif (this.routerchange) {\n\t\t\t\t\tthis.routerchange = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.clear();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate alerta = new Subject<Alert>();\n\n\tadd(mensaje: Alert) {\n\t\tmensaje.class = \"ns-show\"\n\t\tthis.alerta.next(mensaje);\n\t};\n\n\tgetAlertas(): Observable<Alert> {\n\t\treturn this.alerta.asObservable();\n\t}\n\n\tclear() {\n\t\tthis.alerta.next();\n\t}\n}\n","import { Component, OnInit, SimpleChanges, OnDestroy } from '@angular/core';\nimport { Alert, CplxAlertService, AlertType } from './cplx-alert.service';\nimport { isNullOrUndefined } from 'util';\nimport { Subscription } from 'rxjs';\n\n@Component({\n\tselector: 'cplx-alert',\n\ttemplate: `\n\t\t<div class=\"alerta-mensaje\">\n\t\t\t<div *ngFor=\"let m of alertas; let i = index\" class=\"{{cssClass(m)}} ns-growl ns-box ns-effect-scale {{m.class}}\">\n\t\t\t\t<div class=\"sms-box-inner\">\n\t\t\t\t\t<p class=\"p-0 m-0\">{{m.mensaje}}.</p>\n\t\t\t\t</div>\n\t\t\t\t<i class=\"fa fa-times-circle fa-lg close\" aria-hidden=\"true\" style=\"cursor:pointer\" (click)=\"removerMensaje(m,i)\"></i>\n\t\t\t</div>\n\t\t</div>\n  `,\n\tstyleUrls: ['./cplx-alert.component.css']\n})\n\nexport class CplxAlertComponent implements OnDestroy {\n\n\tsubscription: Subscription;\n\talertas = new Array<Alert>();\n\n\tconstructor(private _sms: CplxAlertService) {\n\t\tthis.subscription = this._sms.getAlertas().subscribe((alert: Alert) => {\n\t\t\tif (alert && !isNullOrUndefined(alert.mensaje)) {\n\t\t\t\tif (!this.validate_mensaje(alert)) {\n\t\t\t\t\tthis.alertas.push(alert);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.removerMensaje(alert, this.alertas.indexOf(alert));\n\t\t\t\t\t}, 5000)\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\n\tngOnDestroy() {\n\t\tif (!isNullOrUndefined(this.subscription))\n\t\t\tthis.subscription.unsubscribe();\n\t}\n\n\tvalidate_mensaje(mensaje: Alert) {\n\t\tif (this.alertas.length)\n\t\t\tfor (const alerta of this.alertas)\n\t\t\t\tif (alerta.mensaje == mensaje.mensaje) return true;\n\t\treturn false;\n\t}\n\n\n\tremoverMensaje(alert: Alert, index) {\n\t\talert.class = 'ns-hide';\n\t\tsetTimeout(() => {\n\t\t\tthis.alertas.splice(index, 1);\n\t\t}, 230);\n\t}\n\n\t//[ngClass]=\"{'alert-success text-success': m.tipo == 1 ,'alert-danger text-danger':m.tipo == 2 ,'alert-warning text-warning':m.tipo == 3 ,'alert-primary text-primary':m.tipo == 4}\"\n\tcssClass(alert: Alert) {\n\t\tif (!alert) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (alert.tipo) {\n\t\t\tcase AlertType.Success:\n\t\t\t\treturn 'alert alert-success';\n\t\t\tcase AlertType.Error:\n\t\t\t\treturn 'alert alert-danger';\n\t\t\tcase AlertType.Info:\n\t\t\t\treturn 'alert alert-info';\n\t\t\tcase AlertType.Warning:\n\t\t\t\treturn 'alert alert-warning';\n\t\t}\n\t}\n\n\t//[ngClass]=\"{'fa-thumbs-o-up': m.tipo == 1 ,'fa-thumbs-o-down':m.tipo == 2 ,'fa-exclamation-circle':m.tipo == 3 ,'fa-bullseye':m.tipo == 4}\"\n\tcssClassIcon(alert: Alert) {\n\t\tif (!alert) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (alert.tipo) {\n\t\t\tcase AlertType.Success:\n\t\t\t\treturn 'fa-thumbs-o-up';\n\t\t\tcase AlertType.Error:\n\t\t\t\treturn 'fa-thumbs-o-down';\n\t\t\tcase AlertType.Info:\n\t\t\t\treturn 'fa-exclamation-circle';\n\t\t\tcase AlertType.Warning:\n\t\t\t\treturn 'fa-bullseye';\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CplxAlertComponent } from './cplx-alert.component';\nimport { CplxAlertService } from './cplx-alert.service';\nimport { CommonModule } from '@angular/common';\nimport { ModuleWithProviders } from '@angular/compiler/src/core';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n\timports: [CommonModule, RouterModule],\n\tdeclarations: [CplxAlertComponent],\n\texports: [CplxAlertComponent],\n\tproviders: [CplxAlertService]\n})\n\nexport class CplxAlertModule {\n\tstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: CplxAlertModule,\n\t\t\tproviders: [CplxAlertService, RouterModule]\n\t\t};\n\t}\n}\n"],"names":[],"mappings":"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"}
